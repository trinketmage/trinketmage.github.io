{"version":3,"file":"js/app.563d87d6.js","mappings":"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","sources":["webpack://vue-three-boilerplate/./src/graphics/components/Atlas/alpha.fragment.glsl","webpack://vue-three-boilerplate/./src/graphics/components/Atlas/color.fragment.glsl","webpack://vue-three-boilerplate/./src/graphics/components/Atlas/color_pars.fragment.glsl","webpack://vue-three-boilerplate/./src/graphics/components/Atlas/position_pars.vertex.glsl","webpack://vue-three-boilerplate/./src/graphics/components/Atlas/transformed.vertex.glsl","webpack://vue-three-boilerplate/./src/graphics/components/CharacterMenu/fragment.glsl","webpack://vue-three-boilerplate/./src/graphics/components/CharacterMenu/vertex.glsl","webpack://vue-three-boilerplate/./src/graphics/components/Gallica/fragment.glsl","webpack://vue-three-boilerplate/./src/graphics/components/Gallica/vertex.glsl","webpack://vue-three-boilerplate/./src/graphics/components/MarquePage/fragment.glsl","webpack://vue-three-boilerplate/./src/graphics/components/MarquePage/vertex.glsl","webpack://vue-three-boilerplate/./src/graphics/Assets.js","webpack://vue-three-boilerplate/./src/graphics/Common.js","webpack://vue-three-boilerplate/./src/graphics/Input.js","webpack://vue-three-boilerplate/./src/graphics/Ouput.js","webpack://vue-three-boilerplate/./src/graphics/components/About/index.js","webpack://vue-three-boilerplate/./src/graphics/components/Ambiance.js","webpack://vue-three-boilerplate/./src/graphics/components/Atlas/index.js","webpack://vue-three-boilerplate/./src/graphics/components/Background.js","webpack://vue-three-boilerplate/./src/graphics/components/CharacterMenu/Character.js","webpack://vue-three-boilerplate/./src/graphics/components/CharacterMenu/index.js","webpack://vue-three-boilerplate/./src/graphics/components/Circle/vertex.glsl","webpack://vue-three-boilerplate/./src/graphics/components/Circle/fragment.glsl","webpack://vue-three-boilerplate/./src/graphics/components/Circle/index.js","webpack://vue-three-boilerplate/./src/graphics/components/Gallica/index.js","webpack://vue-three-boilerplate/./src/graphics/components/MarquePage/index.js","webpack://vue-three-boilerplate/./src/graphics/components/Panel/LineText.js","webpack://vue-three-boilerplate/./src/graphics/components/Panel/index.js","webpack://vue-three-boilerplate/./src/graphics/index.js","webpack://vue-three-boilerplate/./src/main.js","webpack://vue-three-boilerplate/./src/pure/Device.js","webpack://vue-three-boilerplate/./src/pure/NormalizeWheel.js","webpack://vue-three-boilerplate/./src/App.vue","webpack://vue-three-boilerplate/./src/views/HomeView.vue","webpack://vue-three-boilerplate/./src/views/HomeView.vue?1da1","webpack://vue-three-boilerplate/./src/App.vue?7ccd","webpack://vue-three-boilerplate/webpack/bootstrap","webpack://vue-three-boilerplate/webpack/runtime/async module","webpack://vue-three-boilerplate/webpack/runtime/chunk loaded","webpack://vue-three-boilerplate/webpack/runtime/compat get default export","webpack://vue-three-boilerplate/webpack/runtime/define property getters","webpack://vue-three-boilerplate/webpack/runtime/global","webpack://vue-three-boilerplate/webpack/runtime/hasOwnProperty shorthand","webpack://vue-three-boilerplate/webpack/runtime/jsonp chunk loading","webpack://vue-three-boilerplate/webpack/startup"],"sourcesContent":["export default \"#define GLSLIFY 1\\n#ifdef USE_ALPHAMAP \\n  float threshold = 0.1;\\n  vec4 transitionTexel = texture2D( alphaMap, vAlphaMapUv * vec2(1.0) ) + (1.0 - texture2D( map, vMapUv ));\\n  transitionTexel *= 0.5;\\n  float r = transition * (1.0 + threshold * 2.0) - threshold;\\n\\n\\tfloat mixf = clamp((transitionTexel.g - r)*(1.0/threshold), 0.0, 1.0);\\n  if (mixf < 0.001) {\\n    discard;\\n  }\\n  diffuseColor.a *= mixf;\\n#endif\";","export default \"#define GLSLIFY 1\\nfloat iorRatio = 1.0/1.31;\\nvec2 uv = gl_FragCoord.xy / resolution.xy;\\nvec3 normal = worldNormal;\\n\\nvec3 color = vec3(0.0);\\n\\nfor ( int i = 0; i < LOOP; i ++ ) {\\n  float slide = float(i) / float(LOOP) * 0.1;\\n\\n  vec3 refractVecR = refract(eyeVector, normal,(1.0/uIorR));\\n  vec3 refractVecY = refract(eyeVector, normal, (1.0/uIorY));\\n  vec3 refractVecG = refract(eyeVector, normal, (1.0/uIorG));\\n  vec3 refractVecC = refract(eyeVector, normal, (1.0/uIorC));\\n  vec3 refractVecB = refract(eyeVector, normal, (1.0/uIorB));\\n  vec3 refractVecP = refract(eyeVector, normal, (1.0/uIorP));\\n\\n  float r = texture(uTexture, uv + refractVecR.xy * (uRefractPower + slide * 1.0) * uChromaticAberration).x * 0.5;\\n\\n  float y = (texture(uTexture, uv + refractVecY.xy * (uRefractPower + slide * 1.0) * uChromaticAberration).x * 2.0 +\\n              texture(uTexture, uv + refractVecY.xy * (uRefractPower + slide * 1.0) * uChromaticAberration).y * 2.0 -\\n              texture(uTexture, uv + refractVecY.xy * (uRefractPower + slide * 1.0) * uChromaticAberration).z) / 6.0;\\n\\n  float g = texture(uTexture, uv + refractVecG.xy * (uRefractPower + slide * 2.0) * uChromaticAberration).y * 0.5;\\n\\n  float c = (texture(uTexture, uv + refractVecC.xy * (uRefractPower + slide * 2.5) * uChromaticAberration).y * 2.0 +\\n              texture(uTexture, uv + refractVecC.xy * (uRefractPower + slide * 2.5) * uChromaticAberration).z * 2.0 -\\n              texture(uTexture, uv + refractVecC.xy * (uRefractPower + slide * 2.5) * uChromaticAberration).x) / 6.0;\\n        \\n  float b = texture(uTexture, uv + refractVecB.xy * (uRefractPower + slide * 3.0) * uChromaticAberration).z * 0.5;\\n\\n  float p = (texture(uTexture, uv + refractVecP.xy * (uRefractPower + slide * 1.0) * uChromaticAberration).z * 2.0 +\\n              texture(uTexture, uv + refractVecP.xy * (uRefractPower + slide * 1.0) * uChromaticAberration).x * 2.0 -\\n              texture(uTexture, uv + refractVecP.xy * (uRefractPower + slide * 1.0) * uChromaticAberration).y) / 6.0;\\n\\n  float R = r + (2.0*p + 2.0*y - c)/3.0;\\n  float G = g + (2.0*y + 2.0*c - p)/3.0;\\n  float B = b + (2.0*c + 2.0*p - y)/3.0;\\n\\n  color.r += R;\\n  color.g += G;\\n  color.b += B;\\n}\\ndiffuseColor = color;\\n\\nfloat specularLight = specular(uLight, uShininess, uDiffuseness);\\ndiffuseColor += specularLight;\";","export default \"#define GLSLIFY 1\\nuniform vec3 color;\\nuniform vec2 resolution;\\nuniform vec3 cameraPosition;\\nuniform sampler2D uTexture;\\n\\nuniform vec3 uLight;\\nuniform float uShininess;\\nuniform float uDiffuseness;\\n\\nuniform float uIorR;\\nuniform float uIorY;\\nuniform float uIorG;\\nuniform float uIorC;\\nuniform float uIorB;\\nuniform float uIorP;\\n\\nuniform float uRefractPower;\\nuniform float uChromaticAberration;\\nuniform float uSaturation;\\n\\nin vec3 worldNormal;\\nin vec3 eyeVector;\\n\\n// https://github.com/mrdoob/three.js/blob/205e345b4f48f8b560b3b35391fd914cba1997a0/src/renderers/shaders/ShaderChunk/encodings_pars_fragment.glsl.js#L20-L22\\nvec4 LinearTosRGB( in vec4 value ) {\\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\n\\nvec3 sat(vec3 rgb, float adjustment) {\\n  const vec3 W = vec3(0.2125, 0.7154, 0.0721);\\n  vec3 intensity = vec3(dot(rgb, W));\\n  return mix(intensity, rgb, adjustment);\\n}\\n\\nfloat specular(vec3 light, float shininess, float diffuseness) {\\n  vec3 normal = worldNormal;\\n  vec3 lightVector = normalize(-light);\\n  vec3 halfVector = normalize(eyeVector + lightVector);\\n\\n  float NdotL = dot(normal, lightVector);\\n  float NdotH =  dot(normal, halfVector);\\n  float kDiffuse = max(0.0, NdotL);\\n  float NdotH2 = NdotH * NdotH;\\n\\n  float kSpecular = pow(NdotH2, shininess);\\n  return  kSpecular + kDiffuse * diffuseness;\\n}\\nconst int LOOP = 16;\";","export default \"#define GLSLIFY 1\\n// https://github.com/glslify/glsl-easings/\\nfloat quadraticOut(float t) {\\n  return -t * (t - 2.0);\\n}\\nfloat cubicOut(float t) {\\n  float f = t - 1.0;\\n  return f * f * f + 1.0;\\n}\\nuniform mat4 modelMatrix;\\nuniform mat3 normalMatrix;\\nuniform vec3 cameraPosition;\\n\\nin vec3 normal;\\n\\nout vec3 worldNormal;\\nout vec3 eyeVector;\";","export default \"#define GLSLIFY 1\\nvec4 worldPos = modelMatrix * vec4(position.xyz, 1.0);\\n\\ntransformed.x += 260.0 * 0.5 * (1.0 - quadraticOut(vProgress));\\ntransformed.z += 260.0 * (1.0 - cubicOut(vProgress));\\n\\nvec3 transformedNormal = normalMatrix * normal;\\nworldNormal = normalize(transformedNormal);\\n\\neyeVector = normalize(worldPos.xyz - cameraPosition);\";","export default \"#define BackgroundColor vec4(0.0, 0.0, 0.0, 0.0)\\n\\nprecision highp float;\\n#define GLSLIFY 1\\nuniform float time;\\nuniform vec3 atmosphereColor;\\nuniform sampler2D tDiffuse;\\nuniform sampler2D tClouds;\\nin float vX;\\nin vec2 vUv;\\n\\nout vec4 myOutputColor;\\n\\nvec4 generateSphereSurfaceWithMask(vec2 uv, float radius) {\\n    float radiusSquared = radius * radius;\\n    float uvLengthSquared = dot(uv, uv);\\n    float uvLength = sqrt(uvLengthSquared);\\n    float mask = step(uvLength, radius);\\n    vec3 surface = vec3(0.0, 0.0, 0.0);\\n    if(mask > 0.0)\\n    {\\n        surface = vec3(uv / radius, sqrt(radiusSquared - uvLengthSquared));\\n    }\\n    else\\n    {\\n        surface = vec3(uv / uvLength, uvLength - radius);\\n    }\\n    return vec4(surface, mask);\\n}\\n\\nvec2 generateSphericalUV(vec3 position, float spin)\\n{\\n    float width = sqrt(1.0 - position.y * position.y);\\n    float generatrixX = position.x / width * sign(position.z);\\n    vec2 generatrix = vec2(generatrixX, position.y);\\n    vec2 uv = asin(generatrix) / 3.14159 * vec2(0.5, 1.0) + vec2(0.5 - spin/3.14159, 0.5);  \\n    return vec2(uv);\\n}\\n\\nmat3 createRotationMatrix(float pitch, float roll) {\\n    float cosPitch = cos(pitch);\\n    float sinPitch = sin(pitch);\\n    float cosRoll = cos(roll);\\n    float sinRoll = sin(roll);\\n    return mat3(\\n        cosRoll, -sinRoll * cosPitch, sinRoll * sinPitch,\\n        sinRoll, cosRoll * cosPitch, -cosRoll * sinPitch,\\n        0.0, sinPitch, cosPitch\\n    );\\n}\\nvec4 atmosphere( vec4 sphereSurfaceWithMask, vec3 lightDirection){\\n    float minAtmosphere = 0.05;\\n    float maxAtmosphere = 0.6;\\n    float fresnelBlend = pow(1.0 - sphereSurfaceWithMask.z, 2.5);\\n    float amount = mix(minAtmosphere, maxAtmosphere, fresnelBlend);\\n    vec3 normal = sphereSurfaceWithMask.xyz;\\n    if(sphereSurfaceWithMask.w < 0.5)\\n    {\\n        float haloBlend = pow(max(1.0 - sphereSurfaceWithMask.z*5.0, 0.0), 3.0);\\n        amount = haloBlend * maxAtmosphere;\\n        normal = vec3(sphereSurfaceWithMask.xy, 0.0);\\n    }\\n    float light = max(dot(normal, lightDirection) + 0.3, 0.0)*1.5;\\n    vec3 litAtmosphere =  light * atmosphereColor;\\n    return vec4(litAtmosphere, amount);\\n}\\n\\nvoid main() {\\n    vec2 st = (vUv - 0.5) / 0.4;\\n\\n    vec4 sphereSurfaceWithMask = generateSphereSurfaceWithMask(st, 1.0);\\n    vec3 lightDirection = normalize(vec3(vX, 0.5, 1.0));\\n    float light = max(dot(lightDirection, sphereSurfaceWithMask.xyz), 0.0);\\n    float mask = clamp(sphereSurfaceWithMask.w, 0.0, 1.0);\\n    mat3 rotationMatrix = createRotationMatrix(0.0, 0.0);\\n    vec3 rotatedSphere = rotationMatrix * (sphereSurfaceWithMask.xyz * mask);\\n    vec2 sphericalUV = generateSphericalUV(rotatedSphere, 1.0 + time);\\n    vec2 sphericalUV2 = generateSphericalUV(rotatedSphere, 1.0 + time * 0.8);\\n    vec4 surfaceTexture = texture(tDiffuse, sphericalUV.xy);\\n    surfaceTexture += texture(tClouds, sphericalUV2.xy);\\n    \\n    \\n    vec4 atmosphere = atmosphere( sphereSurfaceWithMask, lightDirection);\\n\\n    vec4 litSurface = mix(BackgroundColor, surfaceTexture * light, mask);\\n    vec4 result = mix(litSurface, atmosphere.xyzw, atmosphere.w);\\n    myOutputColor = vec4( result.rgb, result.a + atmosphere.w);\\n}\\n\";","export default \"#define GLSLIFY 1\\nin vec2 uv;\\nin vec4 position;\\nuniform mat4 projectionMatrix;\\nuniform mat4 modelViewMatrix;\\n\\nout vec2 vUv;\\nout float vX;\\n\\nvoid main() {\\n  vUv = uv;\\n  vec4 pos = projectionMatrix * modelViewMatrix * position;\\n  vX = -pos.x * 0.25;\\n  gl_Position = pos;\\n}\\n\";","export default \"precision highp float;\\n#define GLSLIFY 1\\n\\nuniform float opacity;\\nuniform float uCover;\\nuniform float transition;\\nuniform vec2 resolution;\\nuniform sampler2D map;\\nuniform sampler2D alphaMap;\\nin vec2 vUv;\\n\\nout vec4 myOutputColor;\\n\\nvoid main() {\\n  vec4 texel = texture(map, vUv);\\n  vec2 st = gl_FragCoord.xy / resolution.xy;\\n  float x = step(uCover, 1.0 - st.x);\\n\\n  float threshold = 0.1;\\n  vec4 transitionTexel = texture(alphaMap, vec2(st.x, st.y * (resolution.y / resolution.x)));\\n  float r = transition * (1.0 + threshold * 2.0) - threshold;\\n\\tfloat mixf = clamp((transitionTexel.g - r)*(1.0/threshold), 0.0, 1.0);\\n  x *= mixf;\\n  if (x < 0.001) discard;\\n\\n  myOutputColor = vec4(texel.rgb, texel.a * opacity * x);\\n}\\n\";","export default \"#define GLSLIFY 1\\nin vec2 uv;\\nin vec4 position;\\nuniform mat4 projectionMatrix;\\nuniform mat4 modelViewMatrix;\\n\\nout vec2 vUv;\\n\\nvoid main() {\\n  vUv = uv;\\n  vec4 pos =  projectionMatrix * modelViewMatrix * position;\\n  gl_Position = pos;\\n}\\n\";","export default \"precision highp float;\\n#define GLSLIFY 1\\nuniform sampler2D tDiffuse;\\n\\nin vec2 vUv;\\n\\nout vec4 myOutputColor;\\n\\nvoid main() {\\n  vec4 color = texture(tDiffuse, vUv);\\n  myOutputColor = vec4(color.rgb, 1.0);\\n}\\n\";","export default \"#define GLSLIFY 1\\nuniform mat4 projectionMatrix;\\nuniform mat4 modelViewMatrix;\\n\\nuniform vec3 resolution;\\nuniform float diffuseAspect;\\nuniform float ponder;\\n\\nin vec4 position;\\nin vec2 uv;\\nout vec2 vUv;\\n\\nvec2 responsive(vec2 res, float diffuseAspect) {\\n  float ratio = res.x / res.y / diffuseAspect;\\n  float direction = step(1.0, ratio);\\n  return vec2(mix(ratio, 1.0, direction), mix(1.0, 1.0 / ratio, direction));\\n}\\n\\nvoid main() {\\n  vec2 res = responsive(resolution.xy, diffuseAspect);\\n  vUv = uv * res + ((1.0 - res) * 0.5);\\n  float offset = (1.0 - res.x) * 0.5;\\n  vUv.x += mix(-offset, offset, ponder);\\n\\t// gl_Position = vec4( position, 1.0 );\\n\\n  vec4 pos =  projectionMatrix * modelViewMatrix * position;\\n  gl_Position = pos;\\n}\";","import {\n  LoadingManager,\n  TextureLoader,\n  // CubeTextureLoader,\n  EquirectangularReflectionMapping,\n  SRGBColorSpace,\n  RepeatWrapping,\n  RawShaderMaterial,\n  Color,\n  GLSL3,\n} from \"three\";\n\nimport { RGBELoader } from 'three/addons/loaders/RGBELoader.js';\nimport { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';\n// import { DRACOLoader } from 'three/addons/loaders/DRACOLoader.js';\n// const dracoLoader = new DRACOLoader();\n// dracoLoader.setDecoderPath( 'assets/draco/' );\n// dracoLoader.setDecoderConfig( { type: 'js' } );\n\nimport LoveFont from '@/assets/fonts/Love.json';\nimport PPNeueMontrealMedium from '@/assets/fonts/PPNeueMontreal-Medium.json';\n\nclass Assets {\n  manager = new LoadingManager(); \n  textureLoader = new TextureLoader(this.manager);\n  rgbeLoader = new RGBELoader(this.manager);\n  gltfLoader = new GLTFLoader(this.manager);\n  constructor() {\n    // this.gltfLoader.setDRACOLoader( dracoLoader );\n  }\n  init() {\n    const { textureLoader, rgbeLoader } = this;\n\n    this.LoveFont = LoveFont;\n    this.PPNeueMontrealMedium = PPNeueMontrealMedium;\n    \n\n    this.worldMap = textureLoader.load( \"/assets/map.png\" );\n    this.worldMap2 = textureLoader.load( \"/assets/640px-Blue_Marble_2002.png\" );\n    this.worldMap2.wrapS = RepeatWrapping;\n    this.worldMapClouds = textureLoader.load( \"/assets/earthclouds.png\" );\n    this.worldMapClouds.wrapS = RepeatWrapping;\n    this.alphaMap = textureLoader.load( \"/assets/transition4.png\" );\n    this.map = textureLoader.load( \"/assets/Love.png\" );\n    this.ladyMargot = textureLoader.load( \"/assets/lady-margot.jpeg\" );\n    this.pixel = textureLoader.load( \"/assets/pixel.png\" );\n    this.astodynamics = textureLoader.load( \"/assets/SF-skill-Astrodynamics_0.png\" );\n    this.astodynamics.colorSpace = SRGBColorSpace;\n    this.scavenging = textureLoader.load( \"/assets/Starfield-Scavenging.png\" );\n    this.scavenging.colorSpace = SRGBColorSpace;\n\n    this.jocodusTextures = [];\n    this.jocodusTextures.push(this.pixel);\n    this.jocodusTextures.push(textureLoader.load('/assets/globe-Jodocus-Hondius/L55008745_4.png'));\n    this.jocodusTextures.push(textureLoader.load('/assets/globe-Jodocus-Hondius/L55008745_1.png'));\n    this.jocodusTextures.push(textureLoader.load('/assets/globe-Jodocus-Hondius/L55008745_3.png'));\n    this.jocodusTextures.push(textureLoader.load('/assets/globe-Jodocus-Hondius/L55008745_2.png'));\n    this.jocodusTextures.push(this.pixel);\n    this.jocodusTextures.forEach(_ => {\n      if (_) _.colorSpace = SRGBColorSpace;\n      if (_) _.flipY = false;\n    })\n    this.gltfLoader.load(\n      '/assets/globe-Jodocus-Hondius/L55008745.glb',\n      ( object ) => {\n        this.jocodusGlobe = object.scene;\n      },\n    );\n    this.gltfLoader.load(\n      '/assets/models/dummy2.glb',\n      ( object ) => {\n        this.dummy = object;\n      },\n    );\n\n    this.textureCube = rgbeLoader\n      .setPath( '/assets/' )\n      .load( 'potsdamer_platz_1k_11zon.hdr',  ( texture ) => {\n        texture.mapping = EquirectangularReflectionMapping;\n      });\n\n\n\n    this.glyphMaterial = new RawShaderMaterial({\n      glslVersion: GLSL3,\n        transparent: true,\n      vertexShader: /* glsl */`\n            precision highp float;\n        in vec2 uv;\n        in vec2 guv;\n        in vec4 position;\n        uniform mat4 projectionMatrix;\n        uniform mat4 modelViewMatrix;\n        out vec2 vUv;\n        out vec2 vGuv;\n\n        void main() {\n          vUv = uv;\n          vGuv = guv;\n\n          vec3 transformed = vec3( position );\n\n          vec4 mvPosition = vec4(transformed, 1.0);\n          mvPosition = modelViewMatrix * mvPosition;\n\n          vec4 pos = projectionMatrix * mvPosition;\n          \n          gl_Position = pos;\n        }\n      `,\n      fragmentShader: /* glsl */`\n        precision highp float;\n        uniform vec3 color;\n        uniform sampler2D map;\n        in vec2 vUv;\n        in vec2 vGuv;\n        out vec4 myOutputColor;\n\n        float median(float r, float g, float b) {\n          return max(min(r, g), min(max(r, g), b));\n        }\t\n\n        void main() {\n          vec3 diffuseColor = color;\n          float alpha = 1.0;\n\n          vec3 msd = texture(map, vGuv).rgb;\n\n          float sd = median(msd.r, msd.g, msd.b) - 0.5;\n          alpha *= clamp(sd/fwidth(sd) + 0.5, 0.0, 1.0);\n\n          myOutputColor = vec4(diffuseColor, alpha);\n        }\n      `,\n        uniforms: {\n            map: {\n                value: this.map\n            },\n            color: {\n                value: new Color(0xece9e3)\n            }\n        }\n    });\n  }\n}\n\nexport default new Assets();\n","import Device from \"@/pure/Device\";\n\nimport {\n  Scene,\n  WebGLRenderer,\n  Color,\n  PerspectiveCamera,\n  ACESFilmicToneMapping,\n} from \"three\";\n\n// import { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js'\nimport { getFovHeigth } from \"@trinketmage/sword\";\nimport { Pane } from \"tweakpane\";\n\nclass Common {\n  scene = new Scene();\n  handle = document.body.querySelector('#graphics');\n\n  constructor() {\n    // this.scene.background = new Color(0x050505);\n    this.scene.background = new Color(0x030c1e);\n    // this.scene.background = new Color(0xdaa520);\n    // this.scene.background = new Color(0xdaa520);\n    this.camera = new PerspectiveCamera(\n      50,\n      Device.viewport.width / Device.viewport.height,\n      0.01,\n      100.0\n    );\n    this.camera.position.z = 10;\n  }\n\n  init() {\n    this.renderer = new WebGLRenderer({\n      // canvas: canvas,\n      alpha: false,\n      stencil: false,\n      depth: true,\n      powerPreference: \"high-performance\",\n      antialias: false\n    });\n    this.handle.appendChild( this.renderer.domElement );\n\n    this.renderer.autoClear = false;\n    this.renderer.physicallyCorrectLights = true;\n    // this.renderer.outputColorSpace = SRGBColorSpace\n    this.renderer.toneMapping = ACESFilmicToneMapping;\n\n    this.renderer.setPixelRatio(Device.pixelRatio);\n\n    this.debug = window.location.hash === '#debug' ? new Pane() : null;\n    // this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n  }\n\n  render() {\n    this.renderer.render(this.scene, this.camera);\n  }\n\n  dispose() {\n    this.handle.removeChild( this.renderer.domElement );\n    this.renderer.dispose();\n    this.debug?.dispose();\n  }\n\n  resize() {\n    Device.viewport.width = this.renderer.domElement.parentElement.offsetWidth;\n    Device.viewport.height = this.renderer.domElement.parentElement.offsetHeight;\n\n    this.camera.aspect =\n      Device.viewport.width / Device.viewport.height;\n    this.camera.updateProjectionMatrix();\n\n    Device.fov.height = getFovHeigth(this.camera, 10);\n    Device.fov.width = Device.fov.height * this.camera.aspect;\n\n    this.renderer.setSize(\n      Device.viewport.width,\n      Device.viewport.height\n    );\n  }\n}\n\nexport default new Common();\n","import Device from \"@/pure/Device\";\nimport { Vector2 } from \"three\";\n\nclass Input {\n  constructor() {\n    this.mouseMoved = false;\n    this.coords = new Vector2();\n    this.coords_old = new Vector2();\n    this.diff = new Vector2();\n    this.timer = null;\n    this.count = 0;\n    this.velocity = 0;\n    this.offset = new Vector2(0, 0);\n  }\n\n  init() {\n    document.body.addEventListener('mousemove', this.onDocumentMouseMove.bind(this), false);\n    document.body.addEventListener('touchstart', this.onDocumentTouchStart.bind(this), false);\n    document.body.addEventListener('touchmove', this.onDocumentTouchMove.bind(this), false);\n  }\n\n  setCoords(x, y) {\n    if (this.timer) clearTimeout(this.timer);\n    this.coords.set((x / Device.viewport.width) * 2 - 1, - (y / Device.viewport.height) * 2 + 1);\n    this.mouseMoved = true;\n    this.timer = setTimeout(() => {\n      this.mouseMoved = false;\n    }, 100);\n\n  }\n  onDocumentMouseMove(event) {\n    this.setCoords(event.clientX, event.clientY);\n  }\n  onDocumentTouchStart(event) {\n    if (event.touches.length === 1) {\n      // event.preventDefault();\n      this.setCoords(event.touches[0].pageX, event.touches[0].pageY);\n    }\n  }\n  onDocumentTouchMove(event) {\n    if (event.touches.length === 1) {\n      // event.preventDefault();\n\n      this.setCoords(event.touches[0].pageX, event.touches[0].pageY);\n    }\n  }\n\n  render() {\n    this.diff.subVectors(this.coords, this.coords_old);\n    this.coords_old.copy(this.coords);\n\n    if(this.coords_old.x === 0 && this.coords_old.y === 0) this.diff.set(0, 0);\n  }\n  dispose() {\n  }\n  resize() { }\n}\n\nexport default new Input();\n","import * as THREE from \"three\";\n\nimport Common from \"@/graphics/Common\";\nimport Assets from \"@/graphics/Assets\";\nimport Device from \"@/pure/Device\";\n\nimport Atlas from \"@/graphics/components/Atlas\";\nimport MarquePage from \"@/graphics/components/MarquePage\";\nimport Ambiance from \"@/graphics/components/Ambiance\";\nimport Background from \"@/graphics/components/Background\";\nimport Circle from \"@/graphics/components/Circle\";\nimport Gallica from \"@/graphics/components/Gallica/index.js\";\nimport About from \"@/graphics/components/About/index.js\";\nimport CharacterMenu from \"@/graphics/components/CharacterMenu/index.js\";\n// import Mountains from \"@/graphics/components/Mountains\";\n\nimport gsap from \"@gsap/shockingly\";\nimport normalizeWheel from \"@/pure/NormalizeWheel\";\n\nexport default class Output {\n  components = {};\n  postProcess = false;\n\n  constructor() {\n    this.init();\n  }\n\n  init() {\n    this.components.atlas = new Atlas();\n    this.components.circle = new Circle({\n      diameter: 7,\n      scale: 1,\n      circle: 0.0075,\n      opacity: 0.0\n    });\n    this.components.ambiance = new Ambiance();\n    // this.components.mountains = new Mountains();\n\n    this.page = new THREE.Group();\n    this.page.matrixAutoUpdate = false;\n\n    this.page.add(this.components.atlas);\n    this.components.atlas.add(this.components.circle);\n    this.page.add(this.components.ambiance);\n\n    Assets.manager.onLoad = () => {\n      this.components.atlas.init();\n      this.components.atlas.enter();\n      // this.components.mountains.init();\n      this.components.marquePage = new MarquePage();\n      this.page.add(this.components.marquePage);\n\n      this.components.gallica = new Gallica();\n      this.components.atlas.add(this.components.gallica);\n\n      this.components.about = new About();\n      this.page.add(this.components.about);\n\n      this.components.characterMenu = new CharacterMenu();\n      this.page.add(this.components.characterMenu);\n\n      this.components.gallica.rotation.y = 1.75;\n      this.components.gallica.updateMatrix();\n      this.components.gallica.enter();\n\n      this.boundHandleWheel = this.handleWheel.bind(this);\n      window.addEventListener('wheel', this.boundHandleWheel);\n\n      if (Common.debug) {\n        this.setDebug();\n      }\n    }\n    Assets.manager.onStart = () => {\n      const lerp = {\n        x: 0\n      }\n      gsap.to(lerp, {\n        x: 0.5,\n        duration: 0.628,\n        delay: 0.2,\n        ease: \"sine.inOut\",\n        onUpdate: () => {\n          this.components.circle.material.uniforms.opacity.value = lerp.x\n        }\n      });\n    }\n    Assets.manager.onProgress = (url, loaded, total) => {\n      const lerp = {\n        x: this.components.circle.material.uniforms.arc.value.x,\n        y: 0.0075,\n        z: 0.5,\n      }\n      const x = loaded / total;\n      if (this.tl) this.tl.kill();\n      this.tl = gsap.timeline({ overwrite: true });\n      this.tl.to(lerp, {\n        x,\n        duration: 1.5,\n        delay: 0.2,\n        ease: \"sine.inOut\",\n        onUpdate: () => {\n          this.components.circle.material.uniforms.arc.value.x = lerp.x\n          this.components.circle.material.uniforms.arc.value.y = -lerp.x\n        }\n      }, 'a');\n      if (x === 1) {\n        this.tl.to(lerp, {\n          y: 0,\n          z: 0.1,\n          duration: 0.5,\n          ease: \"sine.out\",\n          onUpdate: () => {\n            this.components.circle.material.uniforms.opacity.value = lerp.z\n            this.components.circle.material.uniforms.circle.value = lerp.y\n          }\n        }, 'b');\n        this.components.ambiance.enter();\n      }\n    }\n    Assets.init();\n    \n    Common.scene.add(this.page);\n  }\n\n  handleWheel(e) {\n    const ne = normalizeWheel(e);\n    const { pixelX, pixelY } = ne;\n    const delta = Math.abs(pixelX) > Math.abs(pixelY) ? pixelX : pixelY;\n\n    if(this.overwriteAnimation) this.overwriteAnimation.kill()\n    // this.page.position.x -= delta / 100;\n    // this.page.position.x = Math.min(this.page.position.x, 0);\n    // this.page.updateMatrix();\n    const offset = this.page.position.x - delta * 0.5;\n    const x = Math.min(Math.max(offset, -(Device.fov.width + Device.fov.height * 0.75 + 9)), 0);\n    this.overwriteAnimation = gsap.to(this.page.position, {\n      overwrite: \"auto\",\n      duration: 0.5,\n      x,\n      onUpdate: () => {\n        this.page.updateMatrix();\n      }\n    });\n  }\n  \n  animateSlider(direction) {\n    this.animation.pause();\n    if(this.overwriteAnimation) this.overwriteAnimation.kill()\n\n    this.offsetX = gsap.utils.clamp(this.draggable.minX || -this.scrollWidth, this.draggable.maxX, gsap.getProperty(this.proxy, \"x\") - direction);\n\n    this.overwriteAnimation = gsap.to(this.proxy, {\n      overwrite: \"auto\",\n      duration: this.slideDuration,\n      x: this.offsetX,\n      onUpdate: this.updateProgress\n    });\n  }\n\n  addBackground({ el }) {\n    this.components.background = new Background({\n      el\n    });\n    this.page.add(this.components.background);\n    this.components.background.resize();\n  }\n\n  updatePage(y) {\n    // const p = y.end / Device.viewport.height;\n    // const d = p *  Device.fov.height;\n    // this.page.position.x = y.progress * d;\n    this.page.position.x = y;\n    this.page.updateMatrix();\n  }\n\n  render(t, delta) {\n    Object.keys(this.components).forEach(_ => {\n      this.components[_].render(t, delta);\n    });\n\n    Common.renderer.setRenderTarget(null);\n    Common.render();\n  }\n\n  disposeComponent(_) {\n    this.page.remove(this.components[_]);\n    this.components[_].dispose();\n    delete this.components[_];\n  }\n\n  dispose() {\n    Object.keys(this.components).forEach(_ => {\n      this.disposeComponent(_);\n    });\n    \n    Common.scene.remove(this.page);\n    this.page = null;\n    \n    window.removeEventListener('wheel', this.boundHandleWheel);\n  }\n\n  resize() {\n    Object.keys(this.components).forEach(_ => {\n      this.components[_].resize();\n    });\n  }\n\n  setDebug() {\n    Object.keys(this.components).forEach(_ => {\n      if ('setDebug' in this.components[_]) {\n        this.components[_].setDebug(Common.debug);\n      }\n    });\n  }\n}\n","import {\n    Group,\n} from 'three';\nimport { Glyph } from 'three-glyph';\n\nimport Device from \"@/pure/Device\";\nimport Assets from \"@/graphics/Assets\";\n\nexport default class About extends Group {\n    PARAMS = {\n    }\n    constructor() {\n      super();\n      const scale = 0.00825;\n      this.glyph = new Glyph({\n        text: \"ABOUT\",\n        font: Assets.LoveFont,\n        material: Assets.glyphMaterial\n      });\n      this.glyph.matrixAutoUpdate = false;\n      this.glyph.mesh.matrixAutoUpdate = false;\n      this.glyph.scale.set(scale, scale, scale);\n      this.glyph.alignLeft();\n      this.glyph.alignBottom();\n      this.glyph.position.y = 1.5;\n      this.glyph.updateMatrix();\n      this.glyph.mesh.updateMatrix();\n      this.add(this.glyph);\n\n      this.glyph2 = new Glyph({\n        text: \"ME\",\n        font: Assets.LoveFont,\n        material: Assets.glyphMaterial\n      });\n      this.glyph2.matrixAutoUpdate = false;\n      this.glyph2.mesh.matrixAutoUpdate = false;\n      this.glyph2.scale.set(scale, scale, scale);\n      this.glyph2.alignLeft();\n      this.glyph2.alignTop();\n      this.glyph2.position.y = -1.5;\n      this.glyph2.updateMatrix();\n      this.glyph2.mesh.updateMatrix();\n      this.add(this.glyph2);\n\n      this.glyph3 = new Glyph({\n        text: \"As a coder deeply rooted in the wisdom of\\nantique philosophy and the foundational\\nprinciples of ancient science, my approach\\nto coding is not merely about writing lines\\nof code but about crafting solutions that\\nresonate with the timeless truths discovered\\nby the great thinkers of the past. I believe\\nthat the logic and problem-solving skills\\nhoned by these pioneers are as relevant\\ntoday as they were centuries ago.\",\n        font: Assets.PPNeueMontrealMedium,\n        material: Assets.glyphMaterial\n      });\n      this.glyph3.matrixAutoUpdate = false;\n      this.glyph3.mesh.matrixAutoUpdate = false;\n      this.glyph3.scale.set(scale, scale, scale);\n      this.glyph3.center();\n      this.glyph3.alignLeft();\n      // this.glyph3.position.y = -1.5;\n      this.glyph3.updateMatrix();\n      this.glyph3.mesh.updateMatrix();\n      this.add(this.glyph3);\n      \n      this.glyph4 = new Glyph({\n        text: \"For me, coding is an art form—a way to\\nexpress and embody the harmony, balance,\\nand rationality championed by the ancients.\\nI approach challenges with a holistic\\nmindset, ensuring that my solutions are both\\ninnovative and deeply rooted in enduring\\nprinciples. My coding journey is guided by\\nthe timeless quest for knowledge and\\nunderstanding that has propelled humanity\\nforward through the ages.\",\n        font: Assets.PPNeueMontrealMedium,\n        material: Assets.glyphMaterial\n      });\n      this.glyph4.matrixAutoUpdate = false;\n      this.glyph4.mesh.matrixAutoUpdate = false;\n      this.glyph4.scale.set(scale, scale, scale);\n      this.glyph4.center();\n      this.glyph4.alignLeft();\n      this.glyph4.position.x = 3;\n      this.glyph4.updateMatrix();\n      this.glyph4.mesh.updateMatrix();\n      this.add(this.glyph4);\n\n      this.resize();\n    }\n    render() {\n    }\n    dispose() {\n    }\n    resize() {\n      const width = Device.fov.height * 0.75;\n      this.position.x = Device.fov.width * 0.5 + width + 2;\n    }\n  }\n  ","import {\n  Group,\n} from \"three\";\n\nimport gsap from \"@gsap/shockingly\";\n\nimport Device from \"@/pure/Device\";\n\nimport Circle from \"@/graphics/components/Circle\";\n\nexport default class Ambiance extends Group {\n  constructor() {\n    super();\n    this.matrixAutoUpdate = false;\n    this.circle = new Circle({\n      diameter: 10,\n      scale: 1,\n      circle: 0,\n      opacity: 0.1,\n    });\n    this.add(this.circle);\n  }\n  enter() {\n\n    const lerp = {\n      x: this.circle.material.uniforms.arc.value.x,\n      y: this.circle.material.uniforms.arc.value.y\n    }\n    this.tl = new gsap.timeline();\n    this.tl.to(lerp, {\n      x: 1,\n      y: 1,\n      duration: 5,\n      ease: \"sine.inOut\",\n      onUpdate: () => {\n        this.circle.material.uniforms.arc.value.x = lerp.x\n        // this.circle.material.uniforms.arc.value.y = lerp.y\n      }\n    }, 'a');\n\n  }\n  render() {\n  }\n  dispose() {\n    this.circle.dispose();\n  }\n  resize() {\n    this.circle.diameter = Device.fov.width;\n    this.position.y = -Device.fov.height * 0.5;\n    this.circle.resize();\n    this.updateMatrix();\n    \n  }\n}\n","import {\n  IcosahedronGeometry,\n  Mesh,\n  MeshStandardMaterial,\n  Color,\n  CanvasTexture,\n  RepeatWrapping,\n  Vector2,\n  Vector3,\n  UVMapping,\n  Group,\n  LinearSRGBColorSpace,\n  WebGLRenderTarget,\n  LinearFilter,\n  HalfFloatType,\n} from \"three\";\n\nimport { Glyph } from 'three-glyph';\nimport gsap from '@gsap/shockingly';\nimport { easing } from \"maath\";\n\nimport Device from \"@/pure/Device\";\nimport Input from \"@/graphics/Input\";\nimport Common from \"@/graphics/Common\";\n\nimport Assets from \"@/graphics/Assets\";\n\nimport { FlakesTexture } from 'three/addons/textures/FlakesTexture.js';\n\nimport AlphaFragment from \"./alpha.fragment.glsl\";\nimport position_pars_vertex from \"./position_pars.vertex.glsl\";\nimport color_pars_fragment from \"./color_pars.fragment.glsl\";\nimport color_fragment from \"./color.fragment.glsl\";\nimport transformed_vertex from \"./transformed.vertex.glsl\";\n\nexport default class Atlas extends Group {\n  variables = {\n    rotationY: 1.75,\n  };\n  constructor() {\n    super();\n\n    this.target = new WebGLRenderTarget(Device.viewport.width * Device.pixelRatio, Device.viewport.height * Device.pixelRatio, {\n      minFilter: LinearFilter,\n      magFilter: LinearFilter,\n      type: HalfFloatType,\n    })\n  }\n  init() {\n    this.geometry = new IcosahedronGeometry(1, 64);\n    const { worldMap, alphaMap, map } = Assets;\n\n    this.material = new MeshStandardMaterial({\n      color: new Color(0xdaa520),\n      metalness: 1.0,\n      roughness: 0.15,\n      roughnessMap: worldMap,\n      normalMap: null,\n      normalScale: new Vector2(0.1, 0.1),\n      envMap: Assets.textureCube,\n      map: worldMap,\n      alphaMap,\n      transparent: true,\n      userData: {\n        transition: { value: 1.0 }\n      },\n    });\n\n    this.material.normalMap = new CanvasTexture(new FlakesTexture(), UVMapping, RepeatWrapping, RepeatWrapping);\n    this.material.normalMap.repeat.set(40, 40);\n\n\n    this.material.onBeforeCompile = shader => {\n      shader.uniforms.transition = this.material.userData.transition\n      shader.fragmentShader = 'uniform float transition;\\n' + shader.fragmentShader;\n      shader.fragmentShader = \n        shader.fragmentShader.replace(\n          'vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;',\n          'vec3 totalSpecular = reflectedLight.indirectSpecular;'\n        )\n      shader.fragmentShader = \n        shader.fragmentShader.replace(\n          '#include <alphamap_fragment>',\n          AlphaFragment\n        )\n    };\n\n    this.sphere = new Mesh( this.geometry, this.material );\n    this.sphere.layers.set(1);\n    this.sphere.matrixAutoUpdate = false;\n    this.sphere.rotation.y = this.variables.rotationY;\n    this.sphere.rotation.x = .875;\n    this.sphere.scale.set(.9 * 3.0, .9 * 3.0, .9 * 3.0);\n    this.sphere.updateMatrix();\n    this.add( this.sphere );\n\n    const addons = {\n      progress: true,\n      shaderChunks: {\n        position_pars_vertex,\n        transformed_vertex,\n        color_pars_fragment,\n        color_fragment,\n        alpha_fragment:  `alpha *= vProgress * opacity;`,\n      }\n    }\n    this.glyph = new Glyph({\n      text: \"RÉMI TRAN\",\n      font: Assets.LoveFont,\n      map,\n      color: new Color(0x030c1e),\n      letterSpacing: 10,\n      addons\n    });\n    \n    this.glyph.matrixAutoUpdate = false;\n    this.glyph.mesh.matrixAutoUpdate = false;\n    this.glyph.scale.set(0.005, 0.005, 0.005)\n    this.glyph.center();\n    this.glyph.children[0].geometry.computeVertexNormals();\n    this.glyph.position.z = 2.75;\n\n    this.glyph.material.uniforms.progress.value = 0;\n    this.glyph.material.uniforms.uTexture = {\n      value: null\n    };\n    this.glyph.material.uniforms.resolution = {\n      value: new Vector2(Device.viewport.width * Device.pixelRatio, Device.viewport.height * Device.pixelRatio)\n    };\n    this.glyph.material.uniforms.uLight = {\n      value: new Vector3(-0.5, 4.0, 10.0),\n    };\n    this.glyph.material.uniforms.uDiffuseness = {\n      value: 0.2,\n    };\n    this.glyph.material.uniforms.uShininess = {\n      value: 40,\n    };\n\n    this.glyph.material.uniforms.uIorR = { value: 1.15 };\n    this.glyph.material.uniforms.uIorY = { value: 1.16 };\n    this.glyph.material.uniforms.uIorG = { value: 1.18 };\n    this.glyph.material.uniforms.uIorC = { value: 1.22 };\n    this.glyph.material.uniforms.uIorB = { value: 1.22 };\n    this.glyph.material.uniforms.uIorP = { value: 1.22 };\n\n    this.glyph.material.uniforms.uSaturation = { value: 1.14 };\n    this.glyph.material.uniforms.uChromaticAberration = { value: 0.5 };\n    this.glyph.material.uniforms.uRefractPower = { value: 0.25 };\n\n    this.glyph.updateMatrix();\n    this.glyph.mesh.updateMatrix();\n    this.add(this.glyph);\n\n    this.glyph2 = new Glyph({\n      text: \"CODER\",\n      font: Assets.PPNeueMontrealMedium,\n      letterSpacing: 20,\n      material: this.glyph.material\n    });\n\n    this.glyph2.matrixAutoUpdate = false;\n    this.glyph2.mesh.matrixAutoUpdate = false;\n    this.glyph2.scale.set(0.005, 0.005, 0.005)\n    this.glyph2.position.z = 2.8;\n    this.glyph2.position.y = -1.025;\n    this.glyph2.center();\n    this.glyph2.children[0].geometry.computeVertexNormals();\n    this.glyph2.updateMatrix();\n    this.glyph2.mesh.updateMatrix();\n    this.add(this.glyph2);\n\n  }\n  enter() {\n\n    const lerp = {\n      x: 0,\n      y: 0,\n      z: 1\n    }\n    const tl = new gsap.timeline();\n    tl.to(lerp, {\n      z: 0,\n      // repeat: -1,\n      duration: 2.5,\n      yoyo: true,\n      ease: \"linear\",\n      onUpdate: () => {\n        this.material.userData.transition.value = lerp.z;\n      }\n    }, 'a')\n    tl.to(lerp, {\n      x: 1,\n      duration: 1.5,\n      ease: \"linear\",\n      onUpdate: () => {\n        this.glyph.material.uniforms.progress.value = lerp.x;\n      }\n    },'a+=1.5')\n    tl.to(lerp, {\n      y: 1,\n      duration: 1,\n      ease: \"linear\",\n      onUpdate: () => {\n        this.glyph2.material.uniforms.progress.value = lerp.y;\n      }\n    },'a+=2')\n  }\n  render(t, delta) {\n\n    easing.damp3(\n      this.position,\n      [\n        this.position.x,\n        this.position.y,\n        (1.0 - Math.cos(Input.coords.x)) * 2.25\n      ],\n      0.2,\n      delta / 1000,\n    )\n\n    easing.damp3(\n      this.rotation,\n      [\n        Input.coords.y * 3.14 * 0.0314 * 0.9,\n        Input.coords.x * 3.14 * 0.0314 * 1.4,\n        0,\n      ],\n      0.2,\n      delta / 1000,\n    );\n\n    if (this.material) {\n      easing.damp3(\n        this.material.envMapRotation,\n        [\n          Input.coords.y * 3.14 * 0.0314 * 0.9,\n          Input.coords.x * 3.14 * 0.0314 * 1.4,\n          0,\n          0\n        ],\n        0.2,\n        delta / 1000,\n      );\n    }\n\n    if (this.glyph && -Device.fov.width < this.parent.position.x) {\n      Common.camera.layers.disableAll();\n      Common.camera.layers.enable(1);\n      // this.glyph.visible = false;\n      // this.glyph2.visible = false;\n\n      Common.renderer.setRenderTarget(this.target);\n      Common.render();\n      \n      this.target.texture.colorSpace = LinearSRGBColorSpace;\n      this.glyph.children[0].material.uniforms.uTexture.value = this.target.texture;\n      this.glyph2.children[0].material.uniforms.uTexture.value = this.target.texture;\n      \n      // this.glyph.visible = true;\n      // this.glyph2.visible = true;\n\n      Common.camera.layers.enableAll();\n    }\n  }\n  dispose() {\n    this.remove(this.sphere);\n    this.remove(this.glyph);\n    this.remove(this.glyph2);\n    this.sphere.geometry.dispose();\n    this.sphere.material.dispose();\n    this.glyph.geometry.dispose();\n    this.glyph.material.dispose();\n    this.glyph2.geometry.dispose();\n    this.target.dispose();\n  }\n  resize() {\n    if (this.glyph) this.glyph.material.uniforms.resolution.value.set(Device.viewport.width * Device.pixelRatio, Device.viewport.height * Device.pixelRatio);\n    this.target.setSize(Device.viewport.width * Device.pixelRatio, Device.viewport.height * Device.pixelRatio);\n  }\n}\n","import {\n  Mesh,\n  PlaneGeometry,\n  MeshBasicMaterial,\n  // ShaderChunk\n} from 'three';\n\nimport Device from \"@/pure/Device\";\nimport Input from '@/graphics/Input';\n\nexport default class Background extends Mesh {\n  constructor(params = {}) {\n    const material = new MeshBasicMaterial({\n      color: params.color || 0xffffff,\n      // wireframe: true,\n      userData: {\n        velocity: { value: 0.0 }\n      },\n    });\n    \n    super(new PlaneGeometry(1, 1, 100), material);\n    material.onBeforeCompile = shader => {\n      shader.uniforms.velocity = material.userData.velocity\n   \n      shader.vertexShader = 'uniform float velocity;\\n' + shader.vertexShader\n      shader.vertexShader = \n        shader.vertexShader.replace(\n          '#include <begin_vertex>',\n          `\n            vec3 transformed = vec3( position );\n            transformed.y += cos(position.x * 3.14) * velocity * 0.025;\n          `\n        );\n    };\n    this.el = params.el;\n    this.matrixAutoUpdate = false;\n  }\n  render() {\n    this.material.userData.velocity.value = Input.velocity;\n  }\n  dispose() {\n  }\n  resize() {\n    const { viewport, fov } = Device;\n    // console.log(\"resize\", this.el.offsetTop / viewport.height, this);\n    const ratio = (this.el.offsetTop - viewport.height * 0.5 + this.el.offsetHeight * 0.5) / viewport.height;\n    const rs = this.el.offsetHeight / viewport.height;\n    // this.position.y = -ratio * fov.height + fov.height * 0.25;\n    this.position.y = -ratio * fov.height;\n    this.scale.x = fov.width;\n    this.scale.y = rs * fov.height;\n\n    this.updateMatrix();\n  }\n}\n","import {\n    Object3D,\n    Vector2,\n} from \"three\";\n\nimport {\n    SkeletonHelper,\n    AnimationMixer,\n    Clock\n} from \"three\";\n\nimport Common from \"@/graphics/Common\";\nimport Circle from \"@/graphics/components/Circle\";\n\nconst actionables = [\n    'Idle',\n    'Walking',\n    'Waving',\n    'CastSpell',\n]\n\nexport default class Character extends Object3D {\n    PARAMS = {\n        action: 'Idle',\n    };\n    constructor(oject) {\n        super();\n\n        this.clock = new Clock();\n\n        this.model = oject.scene;\n        this.animations = oject.animations.filter(({name}) => {\n            return actionables.indexOf(name) !== -1;\n        });\n        this.mixer = new AnimationMixer( this.model );\n\n        this.model.scale.set(2.2, 2.2, 2.2);\n        this.model.position.y = -1.9;\n        this.add(this.model);\n        this.actions = {};\n\n\n        for ( let i = 0; i !== this.animations.length; ++ i ) {\n            let clip = this.animations[ i ];\n            const name = clip.name;\n            if (actionables.indexOf(name) !== -1) {\n                const action = this.mixer.clipAction( clip );\n                this.actions[name] = action;\n                action.play();\n            \n                action.setEffectiveWeight( this.PARAMS.action === name ? 1 : 0 );\n                \n            }\n        }\n\n        this.circle = new Circle({\n            diameter: 7,\n            scale: 1,\n            circle: 0.0,\n            opacity: 0.3,\n            arc: new Vector2(1.0, 0.5)\n        });\n        this.add(this.circle);\n    }\n    render() {\n        const delta = this.clock.getDelta();\n        this.mixer.update( delta );\n    }\n    resize() {\n        this.circle.resize();\n    }\n    dispose() {\n        if (this.skeleton) Common.scene.remove( this.skeleton );\n        if (this.circle) this.add(this.circle);\n    }\n\n    prepareCrossFade( startAction, endAction ) {\n\n        this.startAction = startAction;\n        this.endAction = endAction;\n        \n        // if ( this.startAction === this.actions.Idle ) {\n            this.executeCrossFade();\n        // } else {\n        //     this.synchronizeCrossFade();\n        // }\n\n    }\n    synchronizeCrossFade() {\n        this.mixer.addEventListener( 'loop', onLoopFinished );\n        const that = this;\n\n        function onLoopFinished( event ) {\n            console.log(\"onLoopFinished\", event.action, that.startAction);\n            if ( event.action === that.startAction ) {\n\n                that.mixer.removeEventListener( 'loop', onLoopFinished );\n\n                that.executeCrossFade( that.startAction, that.endAction, 0.35 );\n\n            }\n\n        }\n\n    }\n    executeCrossFade() {\n        this.setWeight( this.endAction, 1 );\n        this.endAction.time = 0;\n        this.startAction.crossFadeTo( this.endAction, 0.35, true );\n    }\n    setWeight( action, weight ) {\n        action.enabled = true;\n        action.setEffectiveTimeScale( 1 );\n        action.setEffectiveWeight( weight );\n    }\n    setDebug(pane) {\n        const { PARAMS } = this;\n        this.skeleton = new SkeletonHelper( this.model );\n        Common.scene.add( this.skeleton );\n        let previousAction = PARAMS.action;\n\n        const folder = pane.addFolder({\n          title: 'Character',\n          expanded: false\n        });\n        console.log(this.animations);\n        const options = this.animations.map(action => {\n            action.name\n            return {\n                text: action.name,\n                value: action.name\n            }\n        })\n        folder\n            .addBinding(PARAMS, 'action', {\n                label: \"Actions\",\n                options\n            })\n            .on('change', () => {\n                const startAction = this.actions[previousAction];\n                const endAction = this.actions[PARAMS.action];\n                \n                this.prepareCrossFade(startAction, endAction);\n\n                previousAction = PARAMS.action;\n            });\n    }\n}","import Device from \"@/pure/Device\";\nimport {\n    Group,\n    PlaneGeometry,\n    RawShaderMaterial,\n    Mesh,\n    Color,\n    GLSL3,\n    MeshBasicMaterial,\n    AmbientLight,\n    DirectionalLight,} from \"three\";\n\n// import { Glyph } from 'three-glyph';\n\nimport Assets from \"@/graphics/Assets\";\n// import Common from \"@/graphics/Common\";\n\nimport Panel from \"@/graphics/components/Panel/index.js\";\n\nimport Character from \"./Character\";\nimport vertexShader from \"./vertex.glsl\";\nimport fragmentShader from \"./fragment.glsl\";\n\nexport default class CharacterMenu extends Group {\n    constructor() {\n        super();\n        this.setOrigin();\n        this.resize();\n    }\n    setOrigin() {\n        this.origin = new Group();\n\n        this.geometry = new PlaneGeometry(2, 2, 1);\n        this.material = new RawShaderMaterial({\n          glslVersion: GLSL3,\n          transparent: true,\n          uniforms: {\n            tDiffuse: {\n                value: Assets.worldMap2,\n            },\n            tClouds: {\n                value: Assets.worldMapClouds,\n            },\n            atmosphereColor: {\n                value: new Color(0xaddfff),\n            },\n            time: {\n                value: 0.\n            }\n          },\n          vertexShader,\n          fragmentShader,\n        });\n        this.mesh = new Mesh(this.geometry, this.material);\n        this.origin.add(this.mesh);\n\n        const date = new Date();\n        this.panel = new Panel({\n            title: \"EARTH — MILKY WAY\",\n            count: {\n                label: \"SURVEYED\",\n                type: \"%\",\n                value: 0.0137,\n            },\n            details: {\n                label: `${date.getUTCHours().toString().padStart(2, \"0\")}:${date.getUTCMinutes().toString().padStart(2, \"0\")} UT`,\n                alignRight: true \n            }\n        });\n        this.origin.add(this.panel);\n        this.panel2 = new Panel({\n            title: \"ASTRODYNAMICS\",\n            count: {\n                label: \"CERTIFICATION\",\n                type: \"%\",\n                value: 0.13,\n            },\n            details: {\n                label: `SKILL POINTS`,\n                count: {\n                    value: 9,\n                }\n            }\n        });\n        this.add(this.panel2);\n\n        const geometry = new PlaneGeometry(2, 2, 1);\n        const material = new MeshBasicMaterial({\n            map: Assets.astodynamics,\n            transparent: true\n        });\n        this.badge = new Mesh(geometry, material);\n        this.panel2.add(this.badge);\n\n        this.panel3 = new Panel({\n            title: \"SCAVENGING\",\n            count: {\n                label: \"CERTIFICATION\",\n                type: \"%\",\n                value: 1,\n            },\n            details: {\n                label: `SKILL POINTS`,\n                count: {\n                    value: 1,\n                }\n            }\n        });\n        this.add(this.panel3);\n\n\n        // this.panel4 = new Panel({\n        //     title: \"BIKE — ELOPS \",\n        //     count: {\n        //         label: \"HULL\",\n        //         type: \"%\",\n        //         value: 1,\n        //     }\n        // });\n        // this.add(this.panel4);\n\n        this.badge = new Mesh(geometry, material.clone());\n        this.badge.material.map = Assets.scavenging;\n        this.panel3.add(this.badge);\n        \n        this.add(this.origin);\n\n        this.ambientLight = new AmbientLight( 0x0000ff, 1 );\n        this.add( this.ambientLight );\n\n        this.directionalLight = new DirectionalLight( 0xff00ff, 5);\n        this.add( this.directionalLight );\n\n        this.character = new Character(Assets.dummy);\n        this.add(this.character);\n    }\n    render(t) {\n        this.material.uniforms.time.value = t * 0.1;\n        this.character.render();\n    }\n    resize() {\n        const y = 1.5;\n        this.position.x = Device.fov.width + Device.fov.height * 0.75 + 9;\n\n        this.origin.position.x = -Device.fov.width * 0.5 + 1 + 0.5;\n        this.origin.position.y = Device.fov.height * 0.5 - y - 0.5 - 0.25;\n\n        this.panel2.position.x = Device.fov.width * 0.5 - 1 - 0.5;\n        this.panel2.position.y = Device.fov.height * 0.5 - y - 0.5 - 0.25;\n\n        this.panel3.position.x = Device.fov.width * 0.5 - 1 - 0.5;\n        this.panel3.position.y = -Device.fov.height * 0.5 + y + 1.5;\n\n        // this.panel4.position.x = -Device.fov.width * 0.5 + 1 + 0.5;\n        // this.panel4.position.y = -Device.fov.height * 0.5 + y + 1.5;\n\n        this.character.resize();\n    }\n    dispose() {\n        this.remove(this.ambientLight);\n        this.remove( this.directionalLight );\n        this.remove(this.mesh);\n        this.geometry.dispose();\n        this.material.dispose();\n        // this.glyph3.dispose();\n        this.glyph4.dispose();\n        this.remove(this.character);\n        this.character.dispose();\n    }\n    setDebug(pane) {\n        this.character.setDebug(pane);\n    }\n}","export default \"#define GLSLIFY 1\\nin vec2 uv;\\nin vec4 position;\\nuniform mat4 projectionMatrix;\\nuniform mat4 modelViewMatrix;\\n\\nout float vAlpha;\\nout vec2 vUv;\\n\\nvoid main() {\\n  vUv = uv;\\n  vec4 pos =  projectionMatrix * modelViewMatrix * position;\\n  vAlpha = 1.0 - smoothstep(60.0, 100.0, pos.z);\\n  gl_Position = pos;\\n}\";","export default \"\\n#define TAU 6.28318530718\\nprecision highp float;\\n#define GLSLIFY 1\\n\\nuniform float opacity;\\nuniform float visibility;\\nuniform float circle;\\nuniform float scale;\\nuniform vec2 arc;\\nuniform vec3 color;\\n\\nin float vAlpha;\\nin vec2 vUv;\\n\\nout vec4 myOutputColor;\\n\\nvoid main() {\\n  float size = 0.5 - (1.0 - visibility) * scale * 0.5;\\n\\n  float tetha = distance(vUv, vec2(0.5) );\\n  float delta = fwidth(tetha);\\n    \\n  float alpha = smoothstep(size - delta, size, tetha);\\n    \\n  float size2 = size * (1.0 - circle) - delta * 2.0;\\n  float alpha2 = smoothstep(size2 - delta, size2, tetha);\\n  \\n  vec2 center = vUv - vec2(0.5);\\n  float angle = mod(atan(center.x, center.y) + TAU * arc.y, TAU) ;\\n  angle = smoothstep(0.0, TAU, angle);\\n\\n  // gl_FragColor = vec4(color, (alpha2 - alpha) * step(angle, arc.x) * opacity * vAlpha);\\n  \\n  myOutputColor = vec4(color, (alpha2 * (1.0 -alpha)) * opacity * vAlpha * step(angle, arc.x));\\n  if (myOutputColor.a < 0.0001) discard;\\n}\";","import {\n  Vector2,\n  // Vector3,\n  Mesh,\n  // Uniform,\n  Color,\n  RawShaderMaterial,\n  // TextureLoader,\n  PlaneGeometry,\n  GLSL3\n} from \"three\";\n\nimport vertexShader from \"./vertex.glsl\";\nimport fragmentShader from \"./fragment.glsl\";\n\n// import Device from \"@/pure/Device\";\n\n// import gsap from \"@gsap/shockingly\";\n\nexport default class Circle extends Mesh {\n  constructor({\n    diameter = 160,\n    circle = 1,\n    opacity = 0.5,\n    visibility = 1,\n    scale = 0.0625,\n    renderOrder = 2,\n    color = 0xffffff,\n    arc = new Vector2(0., 0.5)\n  }) {\n    const material = new RawShaderMaterial({\n      glslVersion: GLSL3,\n      transparent: true,\n      uniforms: {\n        opacity: { type: \"f\", value: opacity },\n        visibility: { type: \"f\", value: visibility },\n        circle: { type: \"f\", value: circle },\n        scale: { type: \"f\", value: scale },\n        color: { type: \"c\", value: new Color(color) },\n        resolution: { type: \"v2\", value: new Vector2(0, 0) },\n        arc: { type: \"v2\", value: arc }\n      },\n      vertexShader,\n      fragmentShader,\n      depthTest: renderOrder ? false : true\n    });\n    // console.log(this.geometry);\n    const geometry = new PlaneGeometry(1, 1, 1);\n    super(geometry, material);\n    // this.material = material;\n    this.diameter = diameter;\n    this.opacity = opacity;\n    this.matrixAutoUpdate = false;\n    this.interpolate = {\n      x: 0,\n      y: 0,\n      arc2: 0.0,\n      circle\n    };\n  }\n  render() {}\n  resize() {\n    this.scale.x = this.diameter;\n    this.scale.y = this.diameter;\n    this.updateMatrix();\n  }\n  dispose() {\n    this.geometry.dispose();\n    this.material.dispose();\n  }\n}","import {\n    Group,\n    // MeshBasicMaterial,\n    RawShaderMaterial,\n    BackSide,\n    GLSL3,\n    Vector2,\n} from 'three';\nimport Assets from \"@/graphics/Assets\";\n\nimport vertexShader from \"./vertex.glsl\";\nimport fragmentShader from \"./fragment.glsl\";\nimport Device from '@/pure/Device';\nimport gsap from '@gsap/shockingly';\n\nexport default class Gallica extends Group {\n    PARAMS = {\n      uCover: 0.0,\n      transition: 1.0,\n    }\n    constructor() {\n        super();\n        this.material = new RawShaderMaterial({\n          glslVersion: GLSL3,\n          side: BackSide,\n          transparent: true,\n          uniforms: {\n            map: {\n              value: null,\n            },\n            alphaMap: {\n              value: Assets.alphaMap,\n            },\n            opacity: {\n              value: 0.3,\n            },\n            transition: {\n              value: this.PARAMS.transition,\n            },\n            uCover: {\n              value: this.PARAMS.uCover,\n            },\n            resolution: {\n              value: new Vector2(Device.viewport.width * Device.pixelRatio, Device.viewport.height * Device.pixelRatio)\n            }\n          },\n          vertexShader,\n          fragmentShader,\n        });\n        this.globe = Assets.jocodusGlobe.children[0];\n        this.globe.children.forEach((_, i) => {\n          this.globe.children[i].material = this.material.clone();\n          this.globe.children[i].material.uniforms.map.value = Assets.jocodusTextures[i];\n        });\n        this.globe.scale.set(-50, 50, 50);\n        Assets.jocodusGlobe.traverse(_ => {\n          if (_.isMesh) _.layers.set(1);\n        })\n        this.add(Assets.jocodusGlobe);\n    }\n    enter() {\n      const lerp = {\n        x: 1,\n      }\n      const tl = new gsap.timeline();\n      tl.to(lerp, {\n        x: 0,\n        duration: 1.5,\n        ease: \"linear\",\n        onUpdate: () => {\n          this.globe.children.forEach(mesh => {\n            mesh.material.uniforms.transition.value = lerp.x;\n          });\n        }\n      },'a+=1.5')\n    }\n    render() {\n      const offset = Math.min(1.0, Math.abs(this.parent.parent.position.x) / (Device.fov.width), 1.0);\n      this.globe.children.forEach(mesh => {\n        mesh.material.uniforms.uCover.value = offset;\n      });\n    }\n    dispose() {\n    }\n    resize() {\n      this.globe.children.forEach(mesh => {\n        mesh.material.uniforms.resolution.value.set(Device.viewport.width * Device.pixelRatio, Device.viewport.height * Device.pixelRatio);\n      });\n\n    }\n    setDebug(pane) {\n        const { PARAMS } = this;\n\n        const folder = pane.addFolder({\n          title: 'Gallica',\n          expanded: false\n        });\n        folder\n            .addBinding(\n            PARAMS,\n            'transition',\n            {\n                label: 'transition',\n                step: 0.01,\n                min: 0,\n                max: 1,\n            }\n            )\n            .on('change', () => {\n                this.globe.children.forEach(mesh => {\n                  mesh.material.uniforms.transition.value = PARAMS.transition;\n                });\n            });\n    }\n  }\n  ","import {\n  Mesh,\n  PlaneGeometry,\n  RawShaderMaterial,\n  GLSL3,\n  Vector3,\n  Group,\n  Color,\n} from \"three\";\n\nimport Device from \"@/pure/Device\";\nimport Assets from \"@/graphics/Assets\";\nimport vertexShader from \"./vertex.glsl\";\nimport fragmentShader from \"./fragment.glsl\";\n\nimport { Glyph } from 'three-glyph';\n\nexport default class MarquePage extends Group {\n  constructor() {\n    super();\n    const material = new RawShaderMaterial({\n      glslVersion: GLSL3,\n      uniforms: {\n        tDiffuse: {\n          value: Assets.ladyMargot,\n        },\n        diffuseAspect: {\n          value: 2250 / 1500\n        },\n        resolution: {\n          value: new Vector3(Device.fov.height * 0.75, Device.fov.height)\n        },\n        ponder: {\n          value: 0\n        },\n      },\n      vertexShader,\n      fragmentShader,\n    });\n    const geometry = new PlaneGeometry(1, 1, 1);\n    \n    const mesh = new Mesh(geometry, material);\n    this.add(mesh);\n\n    this.setLegend();\n\n    this.resize();\n  }\n  setLegend() {\n    this.glyph2 = new Glyph({\n      text: \"COPYRIGHT 2023 WARNER BROS. ENTERTAINMENT INC. ALL RIGHTS RESERVED\",\n      font: Assets.PPNeueMontrealMedium,\n      map: Assets.map,\n      color: new Color(0xece9e3),\n      // letterSpacing: 20,\n    });\n\n    this.glyph2.matrixAutoUpdate = false;\n    this.glyph2.mesh.matrixAutoUpdate = false;\n    this.glyph2.scale.set(0.00625, 0.00625, 0.00625)\n    this.glyph2.rotation.z = -Math.PI * 0.5;\n    this.glyph2.center();\n    // this.glyph2.updateMatrix();\n    this.glyph2.mesh.updateMatrix();\n    // this.add(this.glyph2);\n\n  }\n  render() {\n    const offset = Math.min(1.0, Math.abs(this.parent.position.x) / (Device.fov.width + this.children[0].scale.x), 1.0);\n    this.children[0].material.uniforms.ponder.value = 1.0 - offset;\n  }\n  dispose() {\n  }\n  resize() {\n    const width = Device.fov.height * 0.75;\n    this.position.x = Device.fov.width * 0.5 + width * 0.5;\n    this.children[0].scale.x = width;\n    this.children[0].scale.y = Device.fov.height;\n\n    this.glyph2.position.x = width * 0.5 + 0.15;\n    this.glyph2.updateMatrix();\n  }\n}\n","import {\n    Group,\n    PlaneGeometry,\n    MeshBasicMaterial,\n    Mesh,\n    Color,\n} from \"three\";\n\nimport { Glyph } from 'three-glyph';\nimport Assets from \"@/graphics/Assets\";\n\nconst material = new MeshBasicMaterial({\n    color: 0xece9e3,\n    transparent: true,\n    opacity: 0.3\n});\n\nexport default class LineText extends Group {\n    PARAMS = {\n        fontScale: 0.009,\n        lineWidth: 0.01,\n    };\n    constructor({\n        label,\n        lineWidth,\n        count,\n        alignRight\n    }) {\n        super();\n        if (lineWidth) {\n            this.PARAMS.lineWidth = lineWidth;\n        }\n\n        this.geometry = new PlaneGeometry(2, this.PARAMS.lineWidth, 1);\n        this.material = material.clone();\n\n        this.setLayer({\n            label,\n            alignRight\n        });\n        if (count) {\n            let label = '';\n            if (count.type === '%') {\n                label += count.value * 100 + '%'\n            } else {\n                label += count.value;\n            }\n            this.setLayer({\n                label,\n                alignRight: true,\n                count\n            });\n        }\n        this.resize();\n    }\n    setLayer({\n        label,\n        alignRight,\n        count\n    }) {\n        const { fontScale, lineWidth } = this.PARAMS;\n\n        this.label = new Glyph({\n            text: label,\n            font: Assets.PPNeueMontrealMedium,\n            material: Assets.glyphMaterial\n        });\n        // this.label.material.uniforms.map.value = Assets.map\n        this.label.matrixAutoUpdate = false;\n        this.label.mesh.matrixAutoUpdate = false;\n        this.label.scale.set(fontScale, fontScale, fontScale);\n        this.label.alignTop();\n        if (alignRight) {\n            this.label.alignRight();\n            this.label.position.x = 1;\n        } else {\n            this.label.alignLeft();\n            this.label.position.x = -1;\n        }\n        this.label.position.y = 0.2;\n        this.label.updateMatrix();\n        this.label.mesh.updateMatrix();\n        this.add(this.label);\n        \n        this.line = new Mesh(this.geometry, this.material);\n        this.line.position.y = -(lineWidth - 0.01) * 0.5;\n        if (count && count.type) {\n            this.line.material = this.material.clone();\n            this.line.material.color = new Color(0xece9e3);\n            this.line.material.opacity = 1;\n            this.line.scale.x = count.value;\n            this.line.position.x = -(1 - count.value);\n        }\n        this.add(this.line);\n    }\n    render() {\n    }\n    resize() {\n    }\n    dispose() {\n        while (this.children.length)\n        {\n            this.remove(this.children[0]);\n        }\n        this.label.dispose();\n        this.geometry.dispose();\n        this.material.dispose();\n        this.line.dispose();\n    }\n}","import {\n    Group,\n} from \"three\";\n\nimport LineText from \"@/graphics/components/Panel/LineText.js\";\n\nexport default class Panel extends Group {\n    PARAMS = {\n        fontScale: 0.009,\n    };\n    constructor({\n        title,\n        count,\n        details\n    }) {\n        super();\n        this.setHeader({\n            title,\n            count,\n            details\n        });\n        this.resize();\n    }\n    setHeader({\n        title,\n        count,\n        details\n    }) {\n        this.header = new LineText({\n            label: title\n        });\n        this.add(this.header);\n\n        this.footer = new Group();\n        if (count) {\n            const { label, type, value } = count;\n            this.footer.add(new LineText({\n                label,\n                lineWidth: 0.03,\n                count: {\n                    type,\n                    value,\n                }\n            }));\n        }\n        if (details) {\n            this.details = new LineText(details);\n            this.footer.add(this.details);\n        }\n        // const date = new Date();\n        // this.time = new LineText({\n        //     label: `${date.getUTCHours().toString().padStart(2, \"0\")}:${date.getUTCMinutes().toString().padStart(2, \"0\")} UT`,\n        //     alignRight: true \n        // });\n        // this.footer.add(this.time);\n        this.add(this.footer);\n    }\n    render() {\n    }\n    resize() {\n        this.header.position.y = 1;\n        this.footer.position.y = -1 - 0.2;\n        if (this.details) this.details.position.y = - 0.35;\n    }\n    dispose() {\n        this.remove(this.header);\n        this.remove(this.footer);\n    }\n}","import Input from \"./Input\";\nimport Common from \"./Common\";\nimport Output from \"./Ouput\";\n\nimport gsap from \"@gsap/shockingly\";\n\nMath.TAU = Math.PI * 2;\n\nexport default class {\n  constructor() {\n    Input.init();\n    Common.init();\n\n    this.output = new Output();\n\n    this.init();\n  }\n  init() {\n    this.resize();\n    this.x = this.resize.bind(this);\n    window.addEventListener(\"resize\", this.x, false);\n\n    this.boundRender = this.render.bind(this);\n    gsap.ticker.add(this.boundRender);\n  }\n  render(t, d) {\n    Input.render(t, d);\n    this.output.render(t, d);\n  }\n  resize() {\n    \n    Input.resize();\n    Common.resize();\n    this.output.resize();\n  }\n  dispose() {\n    window.removeEventListener(\"resize\", this.x);\n    gsap.ticker.remove(this.boundRender);\n\n    Input.dispose();\n    Common.dispose();\n    this.output.dispose();\n  }\n}\n","import gsap from \"@gsap/shockingly\";\nimport Draggable from \"@gsap/shockingly/Draggable\";\nimport InertiaPlugin from \"@gsap/shockingly/InertiaPlugin\";\nimport ScrollTrigger from \"@gsap/shockingly/ScrollTrigger\";\n\ngsap.registerPlugin(Draggable, InertiaPlugin, ScrollTrigger); \n\nimport Graphics from \"@/graphics/index\";\n\nimport { createApp } from 'vue'\nimport App from './App.vue'\n\nconst app = createApp(App);\napp.provide('graphics', new Graphics());\napp.mount('#app');\n","import WebGPU from 'three/addons/capabilities/WebGPU.js';\n\nexport default {\n  WebGPU: {\n    isAvailable: WebGPU.isAvailable()\n  },\n  viewport: {\n    width: window.innerWidth,\n    height: window.innerHeight,\n  },\n  fov: {\n    width: 1,\n    height: 1,\n  },\n  pixelRatio: Math.min(window.devicePixelRatio, 2),\n}","/**\n * Copyright (c) 2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule normalizeWheel\n * @typechecks\n */\n\n'use strict';\n\n// Reasonable defaults\nvar PIXEL_STEP  = 10;\nvar LINE_HEIGHT = 40;\nvar PAGE_HEIGHT = 800;\n\n/**\n * Mouse wheel (and 2-finger trackpad) support on the web sucks.  It is\n * complicated, thus this doc is long and (hopefully) detailed enough to answer\n * your questions.\n *\n * If you need to react to the mouse wheel in a predictable way, this code is\n * like your bestest friend. * hugs *\n *\n * As of today, there are 4 DOM event types you can listen to:\n *\n *   'wheel'                -- Chrome(31+), FF(17+), IE(9+)\n *   'mousewheel'           -- Chrome, IE(6+), Opera, Safari\n *   'MozMousePixelScroll'  -- FF(3.5 only!) (2010-2013) -- don't bother!\n *   'DOMMouseScroll'       -- FF(0.9.7+) since 2003\n *\n * So what to do?  The is the best:\n *\n *   normalizeWheel.getEventType();\n *\n * In your event callback, use this code to get sane interpretation of the\n * deltas.  This code will return an object with properties:\n *\n *   spinX   -- normalized spin speed (use for zoom) - x plane\n *   spinY   -- \" - y plane\n *   pixelX  -- normalized distance (to pixels) - x plane\n *   pixelY  -- \" - y plane\n *\n * Wheel values are provided by the browser assuming you are using the wheel to\n * scroll a web page by a number of lines or pixels (or pages).  Values can vary\n * significantly on different platforms and browsers, forgetting that you can\n * scroll at different speeds.  Some devices (like trackpads) emit more events\n * at smaller increments with fine granularity, and some emit massive jumps with\n * linear speed or acceleration.\n *\n * This code does its best to normalize the deltas for you:\n *\n *   - spin is trying to normalize how far the wheel was spun (or trackpad\n *     dragged).  This is super useful for zoom support where you want to\n *     throw away the chunky scroll steps on the PC and make those equal to\n *     the slow and smooth tiny steps on the Mac. Key data: This code tries to\n *     resolve a single slow step on a wheel to 1.\n *\n *   - pixel is normalizing the desired scroll delta in pixel units.  You'll\n *     get the crazy differences between browsers, but at least it'll be in\n *     pixels!\n *\n *   - positive value indicates scrolling DOWN/RIGHT, negative UP/LEFT.  This\n *     should translate to positive value zooming IN, negative zooming OUT.\n *     This matches the newer 'wheel' event.\n *\n * Why are there spinX, spinY (or pixels)?\n *\n *   - spinX is a 2-finger side drag on the trackpad, and a shift + wheel turn\n *     with a mouse.  It results in side-scrolling in the browser by default.\n *\n *   - spinY is what you expect -- it's the classic axis of a mouse wheel.\n *\n *   - I dropped spinZ/pixelZ.  It is supported by the DOM 3 'wheel' event and\n *     probably is by browsers in conjunction with fancy 3D controllers .. but\n *     you know.\n *\n * Implementation info:\n *\n * Examples of 'wheel' event if you scroll slowly (down) by one step with an\n * average mouse:\n *\n *   OS X + Chrome  (mouse)     -    4   pixel delta  (wheelDelta -120)\n *   OS X + Safari  (mouse)     -  N/A   pixel delta  (wheelDelta  -12)\n *   OS X + Firefox (mouse)     -    0.1 line  delta  (wheelDelta  N/A)\n *   Win8 + Chrome  (mouse)     -  100   pixel delta  (wheelDelta -120)\n *   Win8 + Firefox (mouse)     -    3   line  delta  (wheelDelta -120)\n *\n * On the trackpad:\n *\n *   OS X + Chrome  (trackpad)  -    2   pixel delta  (wheelDelta   -6)\n *   OS X + Firefox (trackpad)  -    1   pixel delta  (wheelDelta  N/A)\n *\n * On other/older browsers.. it's more complicated as there can be multiple and\n * also missing delta values.\n *\n * The 'wheel' event is more standard:\n *\n * http://www.w3.org/TR/DOM-Level-3-Events/#events-wheelevents\n *\n * The basics is that it includes a unit, deltaMode (pixels, lines, pages), and\n * deltaX, deltaY and deltaZ.  Some browsers provide other values to maintain\n * backward compatibility with older events.  Those other values help us\n * better normalize spin speed.  Example of what the browsers provide:\n *\n *                          | event.wheelDelta | event.detail\n *        ------------------+------------------+--------------\n *          Safari v5/OS X  |       -120       |       0\n *          Safari v5/Win7  |       -120       |       0\n *         Chrome v17/OS X  |       -120       |       0\n *         Chrome v17/Win7  |       -120       |       0\n *                IE9/Win7  |       -120       |   undefined\n *         Firefox v4/OS X  |     undefined    |       1\n *         Firefox v4/Win7  |     undefined    |       3\n *\n */\nfunction normalizeWheel(/*object*/ event) /*object*/ {\n  var sX = 0, sY = 0,       // spinX, spinY\n      pX = 0, pY = 0;       // pixelX, pixelY\n\n  // Legacy\n  if ('detail'      in event) { sY = event.detail; }\n  if ('wheelDelta'  in event) { sY = -event.wheelDelta / 120; }\n  if ('wheelDeltaY' in event) { sY = -event.wheelDeltaY / 120; }\n  if ('wheelDeltaX' in event) { sX = -event.wheelDeltaX / 120; }\n\n  // side scrolling on FF with DOMMouseScroll\n  if ( 'axis' in event && event.axis === event.HORIZONTAL_AXIS ) {\n    sX = sY;\n    sY = 0;\n  }\n\n  pX = sX * PIXEL_STEP;\n  pY = sY * PIXEL_STEP;\n\n  if ('deltaY' in event) { pY = event.deltaY; }\n  if ('deltaX' in event) { pX = event.deltaX; }\n\n  if ((pX || pY) && event.deltaMode) {\n    if (event.deltaMode == 1) {          // delta in LINE units\n      pX *= LINE_HEIGHT;\n      pY *= LINE_HEIGHT;\n    } else {                             // delta in PAGE units\n      pX *= PAGE_HEIGHT;\n      pY *= PAGE_HEIGHT;\n    }\n  }\n\n  // Fall-back if spin cannot be determined\n  if (pX && !sX) { sX = (pX < 1) ? -1 : 1; }\n  if (pY && !sY) { sY = (pY < 1) ? -1 : 1; }\n\n  return { spinX  : sX,\n           spinY  : sY,\n           pixelX : pX,\n           pixelY : pY };\n}\n\n\n/**\n * The best combination if you prefer spinX + spinY normalization.  It favors\n * the older DOMMouseScroll for Firefox, as FF does not include wheelDelta with\n * 'wheel' event, making spin speed determination impossible.\n */\nnormalizeWheel.getEventType = function() /*string*/ {\n  return 'wheel'\n};\n\nexport default normalizeWheel;\n","<template>\n  <!-- <div class=\"scenic-world\">\n    <canvas ref=\"canvas\" />\n  </div> -->\n  <HomeView />\n</template>\n\n<script>\n\nimport HomeView from \"@/views/HomeView.vue\"\n\nexport default {\n  components: {HomeView},\n}\n</script>\n\n\n<style lang=\"scss\">\n#graphics {\n  position: fixed;\n  top: 0px;\n  right: 0px;\n  left: 0px;\n  z-index: 0;\n  height: 100vh;\n  background-color: #030c1e;\n}\n@font-face {\n  font-family: \"Monument\";\n  src: url(\"@/assets/fonts/PPMonumentExtended-Black.ttf\") format(\"truetype\");\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: \"Montreal\";\n  src: url(\"@/assets/fonts/PPNeueMontreal-Medium.otf\") format(\"opentype\");\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n// @import url(\"https://fonts.googleapis.com/css2?family=Hind+Guntur:wght@500&display=swap\");\n\n:root {\n  --title-font: \"Monument\", serif;\n  --corps-font: \"Montreal\", serif;\n}\n::-webkit-scrollbar {\n  width: 2px;\n}\n\n/* Track */\n::-webkit-scrollbar-track {\n  // border-radius: 10px;\n  background: #030c1e;\n}\n\n/* Handle */\n::-webkit-scrollbar-thumb {\n  background: #ffffff;\n  // border-radius: 10px;\n}\n\nhtml,\nbody {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  // background-color: #ece9e3;\n  background-color: #c1bbb6;\n  font-family: var(--corps-font);\n  color: #ece9e3;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  font-display: swap;\n  overscroll-behavior: none;\n  ::selection {\n    color: #000000;\n    background: #f9e1d5;\n  }\n}\nhtml {\n  height: 100%;\n}\n#app {\n  z-index: 1;\n  position: relative;\n}\n.label {\n  position: absolute;\n  bottom: 1em;\n  right: 1em;\n  font-size: 13px;\n}\n\n.tp-dfwv {\n  z-index: 2;\n}\n</style>\n","<template>\n  <div class=\"mast-head\" ref=\"hero\">\n    <div class=\"label\">coming soon..</div>\n    <a href=\"https://github.com/trinketmage/\" target=\"_BLANK\">github</a>\n    <a href=\"https://stackoverflow.com/users/3382951/nephelococcygia\" target=\"_BLANK\">stackoverflow</a>\n    <a href=\"https://www.shadertoy.com/user/trinketMage\" target=\"_BLANK\">shadertoy</a>\n    <a href=\"https://codepen.io/trinketmage\" target=\"_BLANK\">codepen</a>\n    <a href=\"https://twitter.com/remuemeninge\" target=\"_BLANK\">x</a>\n    <a href=\"mailto:tranremi@live.fr\" target=\"_BLANK\">tranremi@live.fr</a>\n    <!-- <a class=\"menu\" @click=\"handleClick\">menu</a> -->\n  </div>\n  <!-- <div class=\"corps\" ref=\"corps\">\n    <div class=\"section\">\n      <h2>Foreword</h2>\n      <span>Paris, 2024</span>\n\n      <p class=\"description\">I embrace the multidimensional nature of knowledge, drawing inspiration from disciplines as varied as <a href=\"https://en.wikipedia.org/wiki/Mathematics\" target=\"_blank\">mathematics</a>, <a href=\"https://en.wikipedia.org/wiki/Philosophy\" target=\"_blank\">philosophy</a>, <a href=\"https://en.wikipedia.org/wiki/Geography\" target=\"_blank\">geography</a>, <a href=\"https://en.wikipedia.org/wiki/Photography\" target=\"_blank\">photography</a>, <a href=\"https://en.wikipedia.org/wiki/Design\" target=\"_blank\">design</a>, and the heritage of sciences. By weaving together these diverse threads of thought, I aim to create digital landscapes that not only engage and entertain but also educate and enlighten, transcending the boundaries of technology to touch hearts and minds with visually compelling and intellectually stimulating experiences.</p>\n    </div>\n  </div> -->\n  <!-- <div class=\"mast-head\">\n  </div>\n  <div class=\"mast-head\">\n  </div> -->\n</template>\n\n<script>\nimport { inject, ref, onMounted, onUnmounted } from 'vue';\nimport gsap from '@gsap/shockingly';\n// import ScrollTrigger from \"@gsap/shockingly/ScrollTrigger\";\nimport Draggable from \"@gsap/shockingly/Draggable\";\n// import Input from '@/graphics/Input';\n// import Device from '@/pure/Device';\n\nexport default {\n  setup() {\n    let app = inject('graphics');\n    const corps = ref(null);\n    const hero = ref(null);\n\n    const { rotationY } = app.output.components.atlas.variables;\n    const variables = {\n      rotationY,\n      velocity: 0.0\n    };\n\n    const proxy = document.createElement(\"div\");\n    let drag = null;\n    let startProgress = 0;\n    const progressWrap = gsap.utils.wrap(0, 1);\n    const dragDistancePerRotation = 3000;\n    const spin = gsap.fromTo(variables, {\n      rotationY: Math.TAU\n    }, {\n      paused: true,\n      rotationY: 0,\n      duration: 20,\n      ease: \"none\",\n      repeat: -1,\n    });\n\n    // let st = null;\n    // let velocityTween = null;\n    // const updateVelocity = (velocity) => {\n    //   if (velocityTween) {\n    //     velocityTween.kill();\n    //   }\n    //   velocityTween = gsap.timeline({\n    //     onUpdate: () => {\n    //       Input.velocity = variables.velocity;\n    //     }\n    //   })\n    //   const f = Math.min(1.0, Math.abs(velocity) / Device.viewport.height);\n    //   const v = f * -Math.sign(velocity);\n\n    //   velocityTween.set(variables, {\n    //     velocity: v,\n    //     duration: 0.05,\n    //     ease: 'sine.in'\n    //   }, 'a')\n    //   velocityTween.to(variables, {\n    //     velocity: 0,\n    //     duration: 0.2 * f,\n    //     ease: 'expo.out'\n    //   }, 'a+=0.05')\n    // }\n    \n    onMounted(() => {\n      // app.output.addBackground({ el: corps.value })\n\n      // st = new ScrollTrigger({\n      //   trigger: document.body.querySelector(\"#app\"),\n      //   scrub: true,\n      //   start: \"top top-=1px\",\n      //   end: \"bottom bottom+=1px\",\n      //   onUpdate: (self) => {\n      //     const { end, progress } = self;\n      //     app.output.updateY({\n      //       end, progress\n      //     });\n      //     updateVelocity(self.getVelocity());\n      //   }\n      // });\n\n      spin.progress((Math.TAU - rotationY) / (Math.TAU));\n      const updateRotation = () => {\n        let p = startProgress + (drag[0].startX - drag[0].x) / dragDistancePerRotation;\n        spin.progress(progressWrap(p));\n        if (app.output.components.atlas.sphere) {\n          app.output.components.atlas.sphere.rotation.y = variables.rotationY;\n          app.output.components.atlas.sphere.updateMatrix();\n\n          app.output.components.gallica.rotation.y = app.output.components.atlas.sphere.rotation.y;\n          app.output.components.gallica.updateMatrix();\n        }\n      }\n      drag = Draggable.create(proxy, {\n        trigger: hero.value,\n        type: \"x\",\n        inertia: true,\n        allowNativeTouchScrolling: true,\n        onPress() {\n          gsap.killTweensOf(spin);\n          spin.timeScale(0);\n          startProgress = spin.progress();\n        },\n        onDrag: updateRotation,\n        onThrowUpdate: updateRotation,\n      });\n    });\n    onUnmounted(() => {\n      // app.output.disposeComponent('background');\n      // st.kill();\n\n      drag[0].kill();\n    });\n\n    // const handleClick = () => {\n    //   const lerp = app.output.components.mountains.children[0].children[0].material.userData.transition.value;\n    //   if (lerp === 1) {\n    //     app.output.components.mountains.enter();\n    //   } else {\n    //     app.output.components.mountains.leave();\n    //   }\n    // }\n\n    return {\n      corps,\n      hero,\n      // handleClick\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.mast-head {\n  height: 100vh;\n  display: flex;\n  align-items: flex-end;\n  justify-content: flex-start;\n  flex-direction: column;\n  font-size: 13px;\n  padding: 1em;\n  box-sizing: border-box;\n  position: relative;\n  a {\n    color: #f2eee7;\n    opacity: 0.25;\n    text-decoration: none;\n    line-height: 20px;\n  }\n  .menu {\n    color: red !important;\n    opacity: 1;\n  }\n}\n.corps {\n  color: #070D0D;\n  padding: 100px 40px;\n  box-sizing: border-box;\n}\n.section {\n  max-width: 780px;\n  margin-left: auto;\n  margin-right: auto;\n}\nh2 {\n  margin: 0;\n  font-family: var(--title-font);\n  font-size: 36px;\n}\n.description {\n  padding-left: 33%;\n  columns: 2;\n  margin-top: 40px;\n  gap: 40px;\n  line-height: 1.25;\n  margin-bottom: 0;\n}\n</style>\n","import { render } from \"./HomeView.vue?vue&type=template&id=052a1e13&scoped=true\"\nimport script from \"./HomeView.vue?vue&type=script&lang=js\"\nexport * from \"./HomeView.vue?vue&type=script&lang=js\"\n\nimport \"./HomeView.vue?vue&type=style&index=0&id=052a1e13&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/nephelococcygia/Works/folio2024/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-052a1e13\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=e8fb49da\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=e8fb49da&lang=scss\"\n\nimport exportComponent from \"/Users/nephelococcygia/Works/folio2024/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var webpackQueues = typeof Symbol === \"function\" ? Symbol(\"webpack queues\") : \"__webpack_queues__\";\nvar webpackExports = typeof Symbol === \"function\" ? Symbol(\"webpack exports\") : \"__webpack_exports__\";\nvar webpackError = typeof Symbol === \"function\" ? Symbol(\"webpack error\") : \"__webpack_error__\";\nvar resolveQueue = function(queue) {\n\tif(queue && queue.d < 1) {\n\t\tqueue.d = 1;\n\t\tqueue.forEach(function(fn) { fn.r--; });\n\t\tqueue.forEach(function(fn) { fn.r-- ? fn.r++ : fn(); });\n\t}\n}\nvar wrapDeps = function(deps) { return deps.map(function(dep) {\n\tif(dep !== null && typeof dep === \"object\") {\n\t\tif(dep[webpackQueues]) return dep;\n\t\tif(dep.then) {\n\t\t\tvar queue = [];\n\t\t\tqueue.d = 0;\n\t\t\tdep.then(function(r) {\n\t\t\t\tobj[webpackExports] = r;\n\t\t\t\tresolveQueue(queue);\n\t\t\t}, function(e) {\n\t\t\t\tobj[webpackError] = e;\n\t\t\t\tresolveQueue(queue);\n\t\t\t});\n\t\t\tvar obj = {};\n\t\t\tobj[webpackQueues] = function(fn) { fn(queue); };\n\t\t\treturn obj;\n\t\t}\n\t}\n\tvar ret = {};\n\tret[webpackQueues] = function() {};\n\tret[webpackExports] = dep;\n\treturn ret;\n}); };\n__webpack_require__.a = function(module, body, hasAwait) {\n\tvar queue;\n\thasAwait && ((queue = []).d = -1);\n\tvar depQueues = new Set();\n\tvar exports = module.exports;\n\tvar currentDeps;\n\tvar outerResolve;\n\tvar reject;\n\tvar promise = new Promise(function(resolve, rej) {\n\t\treject = rej;\n\t\touterResolve = resolve;\n\t});\n\tpromise[webpackExports] = exports;\n\tpromise[webpackQueues] = function(fn) { queue && fn(queue), depQueues.forEach(fn), promise[\"catch\"](function() {}); };\n\tmodule.exports = promise;\n\tbody(function(deps) {\n\t\tcurrentDeps = wrapDeps(deps);\n\t\tvar fn;\n\t\tvar getResult = function() { return currentDeps.map(function(d) {\n\t\t\tif(d[webpackError]) throw d[webpackError];\n\t\t\treturn d[webpackExports];\n\t\t}); }\n\t\tvar promise = new Promise(function(resolve) {\n\t\t\tfn = function() { resolve(getResult); };\n\t\t\tfn.r = 0;\n\t\t\tvar fnQueue = function(q) { q !== queue && !depQueues.has(q) && (depQueues.add(q), q && !q.d && (fn.r++, q.push(fn))); };\n\t\t\tcurrentDeps.map(function(dep) { dep[webpackQueues](fnQueue); });\n\t\t});\n\t\treturn fn.r ? promise : getResult();\n\t}, function(err) { (err ? reject(promise[webpackError] = err) : outerResolve(exports)), resolveQueue(queue); });\n\tqueue && queue.d < 0 && (queue.d = 0);\n};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkvue_three_boilerplate\"] = self[\"webpackChunkvue_three_boilerplate\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(866); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["Assets","constructor","_defineProperty","LoadingManager","TextureLoader","this","manager","RGBELoader","GLTFLoader","init","textureLoader","rgbeLoader","LoveFont","PPNeueMontrealMedium","worldMap","load","worldMap2","wrapS","RepeatWrapping","worldMapClouds","alphaMap","map","ladyMargot","pixel","astodynamics","colorSpace","SRGBColorSpace","scavenging","jocodusTextures","push","forEach","_","flipY","gltfLoader","object","jocodusGlobe","scene","dummy","textureCube","setPath","texture","mapping","EquirectangularReflectionMapping","glyphMaterial","RawShaderMaterial","glslVersion","GLSL3","transparent","vertexShader","fragmentShader","uniforms","value","color","Color","Common","Scene","document","body","querySelector","background","camera","PerspectiveCamera","Device","viewport","width","height","position","z","renderer","WebGLRenderer","alpha","stencil","depth","powerPreference","antialias","handle","appendChild","domElement","autoClear","physicallyCorrectLights","toneMapping","ACESFilmicToneMapping","setPixelRatio","pixelRatio","debug","window","location","hash","Pane","render","dispose","removeChild","resize","parentElement","offsetWidth","offsetHeight","aspect","updateProjectionMatrix","fov","getFovHeigth","setSize","Input","mouseMoved","coords","Vector2","coords_old","diff","timer","count","velocity","offset","addEventListener","onDocumentMouseMove","bind","onDocumentTouchStart","onDocumentTouchMove","setCoords","x","y","clearTimeout","set","setTimeout","event","clientX","clientY","touches","length","pageX","pageY","subVectors","copy","Output","components","atlas","Atlas","circle","Circle","diameter","scale","opacity","ambiance","Ambiance","page","THREE","matrixAutoUpdate","add","onLoad","enter","marquePage","MarquePage","gallica","Gallica","about","About","characterMenu","CharacterMenu","rotation","updateMatrix","boundHandleWheel","handleWheel","setDebug","onStart","lerp","gsap","to","duration","delay","ease","onUpdate","material","onProgress","url","loaded","total","arc","tl","kill","timeline","overwrite","e","ne","normalizeWheel","pixelX","pixelY","delta","Math","abs","overwriteAnimation","min","max","animateSlider","direction","animation","pause","offsetX","utils","clamp","draggable","minX","scrollWidth","maxX","getProperty","proxy","slideDuration","updateProgress","addBackground","el","Background","updatePage","t","Object","keys","setRenderTarget","disposeComponent","remove","removeEventListener","Group","super","glyph","Glyph","text","font","mesh","alignLeft","alignBottom","glyph2","alignTop","glyph3","center","glyph4","rotationY","target","WebGLRenderTarget","minFilter","LinearFilter","magFilter","type","HalfFloatType","geometry","IcosahedronGeometry","MeshStandardMaterial","metalness","roughness","roughnessMap","normalMap","normalScale","envMap","userData","transition","CanvasTexture","FlakesTexture","UVMapping","repeat","onBeforeCompile","shader","replace","AlphaFragment","sphere","Mesh","layers","variables","addons","progress","shaderChunks","position_pars_vertex","transformed_vertex","color_pars_fragment","color_fragment","alpha_fragment","letterSpacing","children","computeVertexNormals","uTexture","resolution","uLight","Vector3","uDiffuseness","uShininess","uIorR","uIorY","uIorG","uIorC","uIorB","uIorP","uSaturation","uChromaticAberration","uRefractPower","yoyo","easing","damp3","cos","envMapRotation","parent","disableAll","enable","LinearSRGBColorSpace","enableAll","params","MeshBasicMaterial","PlaneGeometry","ratio","offsetTop","rs","actionables","Character","Object3D","oject","action","clock","Clock","model","animations","filter","name","indexOf","mixer","AnimationMixer","actions","i","clip","clipAction","play","setEffectiveWeight","PARAMS","getDelta","update","skeleton","prepareCrossFade","startAction","endAction","executeCrossFade","synchronizeCrossFade","onLoopFinished","that","console","log","setWeight","time","crossFadeTo","weight","enabled","setEffectiveTimeScale","pane","SkeletonHelper","previousAction","folder","addFolder","title","expanded","options","addBinding","label","on","setOrigin","origin","tDiffuse","tClouds","atmosphereColor","date","Date","panel","Panel","details","getUTCHours","toString","padStart","getUTCMinutes","alignRight","panel2","badge","panel3","clone","ambientLight","AmbientLight","directionalLight","DirectionalLight","character","visibility","renderOrder","depthTest","interpolate","arc2","uCover","side","BackSide","globe","traverse","isMesh","step","diffuseAspect","ponder","setLegend","PI","LineText","lineWidth","fontScale","setLayer","line","setHeader","header","footer","TAU","output","boundRender","ticker","d","registerPlugin","Draggable","InertiaPlugin","ScrollTrigger","app","createApp","App","provide","Graphics","mount","WebGPU","isAvailable","innerWidth","innerHeight","devicePixelRatio","PIXEL_STEP","LINE_HEIGHT","PAGE_HEIGHT","sX","sY","pX","pY","detail","wheelDelta","wheelDeltaY","wheelDeltaX","axis","HORIZONTAL_AXIS","deltaY","deltaX","deltaMode","spinX","spinY","getEventType","_createBlock","_component_HomeView","class","ref","_hoisted_2","_createElementBlock","_hoisted_1","setup","inject","corps","hero","createElement","drag","startProgress","progressWrap","wrap","dragDistancePerRotation","spin","fromTo","paused","onMounted","updateRotation","p","startX","create","trigger","inertia","allowNativeTouchScrolling","onPress","killTweensOf","timeScale","onDrag","onThrowUpdate","onUnmounted","__exports__","HomeView","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","webpackQueues","Symbol","webpackExports","webpackError","resolveQueue","queue","fn","r","wrapDeps","deps","dep","then","obj","ret","a","hasAwait","currentDeps","outerResolve","reject","depQueues","Set","promise","Promise","resolve","rej","getResult","fnQueue","q","has","err","deferred","O","result","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","every","key","splice","n","getter","__esModule","definition","o","defineProperty","enumerable","get","g","globalThis","Function","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","id","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}